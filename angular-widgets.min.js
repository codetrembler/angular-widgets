angular.module("templates-dist",["search-input.html","spinner-dots.html","spinner.html"]),angular.module("search-input.html",[]).run(["$templateCache",function(a){a.put("search-input.html",'<input placeholder="{{ placeholder }}"><aw-spinner-dots></aw-spinner-dots><ul ng-click="quickSearchResultClicked()" ng-if="showQuickSearchResults"><a href="{{ listItem.href }}" ng-repeat="listItem in listItems"><p class="title" ng-bind="listItem.title"></p><p class="subtitle" mathjax-bind="listItem.quickinfo"></p></a></ul>')}]),angular.module("spinner-dots.html",[]).run(["$templateCache",function(a){a.put("spinner-dots.html",'<div><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>')}]),angular.module("spinner.html",[]).run(["$templateCache",function(a){a.put("spinner.html",'<div><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>')}]),angular.module("angular-widgets",["templates-dist", "ngResource"]),angular.module("angular-widgets").directive("awSearchInput",["$resource","DomService","Utils",function(a,b,c){"use strict";return{restrict:"E",templateUrl:"search-input.html",scope:{quicksearchUrl:"@",placeholder:"@",onFocus:"=",onBlur:"="},link:function(d,e){function f(){var a,b=l.val();b.length>0?(e.addClass("loading"),a=n.query({pattern:b}),a.$promise.then(function(a){d.listItems=a,d.showQuickSearchResults=!0}).catch(function(){console.error("no quicksearch results loaded."),d.showQuickSearchResults=!1}).finally(function(){e.removeClass("loading")})):d.$apply(function(){d.showQuickSearchResults=!1})}function g(a){"input"===a.target.localName&&b.elementIsChildOf(a.target,e[0])||(m.off("click",g),d.$apply(function(){d.showQuickSearchResults=!1}))}function h(){d.onBlur&&d.onBlur()}function i(){d.onFocus&&d.onFocus(),m.on("click",g),l.val().length>0&&!d.showQuickSearchResults&&d.$apply(function(){d.showQuickSearchResults=!0})}function j(a){9===a.which&&(m.off("click",g),d.$apply(function(){d.showQuickSearchResults=!1}))}function k(){l.on("focus",i),l.on("blur",h),l.on("keydown",j),d.quicksearchUrl&&l.on("input",f)}var l=e.find("input"),m=angular.element(document.body),n=a(d.quicksearchUrl,null,{query:{method:"GET",params:{pattern:"@pattern"},isArray:!0}});c.assert(l,"SearchInput: input element does not exist."),c.assert(m,"SearchInput: body element does not exist."),d.showQuickSearchResults=!1,d.quickSearchResultClicked=function(){l.val("")},k()}}}]),angular.module("angular-widgets").directive("awSpinnerDots",[function(){"use strict";return{restrict:"E",templateUrl:"spinner-dots.html"}}]),angular.module("angular-widgets").factory("DomService",[function(){"use strict";var a={};return a.elementIsChildOf=function(a,b){for(var c=a;c;){if(c.parentNode===b)return!0;c=c.parentNode}return!1},a}]),angular.module("angular-widgets").factory("Utils",[function(){"use strict";var a={};return a.assert=function(a,b){if(!a)throw new Error("Assert failed: "+b)},a}]);